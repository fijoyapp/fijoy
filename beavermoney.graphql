extend type Account {
  balanceInHouseholdCurrency: String!
  valueInHouseholdCurrency: String!
}

type EquityQuoteResult {
  symbol: String!
  name: String!
  exchange: String!
  currency: String!
  currentPrice: String!
}

extend type Investment {
  valueInHouseholdCurrency: String!
}

extend type Query {
  fxRate(from: String!, to: String!, datetime: Time!): String!
  equityQuote(symbol: String!): EquityQuoteResult

  financialReport(period: TimePeriodInput!): FinancialReport!
}

input CreateInvestmentInputCustom {
  input: CreateInvestmentInput!
  costBasis: String!
}

type Mutation {
  createAccount(input: CreateAccountInput!): AccountEdge!
  createInvestment(input: CreateInvestmentInputCustom!): InvestmentEdge!
}

type FinancialReport {
  totalIncome: String!
  totalExpenses: String!

  incomeByCategoryType: [CategoryTypeAggregate!]!
  expensesByCategoryType: [CategoryTypeAggregate!]!

  transactionCount: Int!

  startDate: Time!
  endDate: Time!
}

type CategoryTypeAggregate {
  categoryType: TransactionCategoryType!
  total: String!
  transactionCount: Int!
  categories: [CategoryAggregate!]!
}

type CategoryAggregate {
  category: TransactionCategory!
  total: String!
  transactionCount: Int!
}

input TimePeriodInput {
  startDate: Time
  endDate: Time
}
